<||= read "website/components/header.html" ||>

<||= read "website/components/search.html" ||>
<section class="main-section">
    <div class="container">
        <div class="columns is-mobile">
            <div class="column is-8-tablet is-offset-2-tablet is-10-mobile is-offset-1-mobile package-page">
                <div class="columns package-title-wrapper">
                    <div class="column is-8 package-title title-wrapper">
                        <|| (currentVersionIsLatest)? [ ||>
                        <h2 class="is-size-2"><b><||= entry\name ||></b></h2>
                        <|| ][ ||>
                            <h2 class="is-size-2"><b><a href="<||= getLink entry\name ø ||>"><||= entry\name ||></a></b></h2>
                        <|| ] ||>
                        <a href="<||= entry\info\url ||>">
                            <span class="icon repo-icon inside-package">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </div>
                    <div class="column is-4 package-link">
                        <div class="is-pulled-right has-text-grey is-hidden-mobile"><span class="icon"><i class="fas fa-cube"></i></span>&nbsp;<||= entry\name ||>.pkgr.art</div>
                    </div>
                </div>
                <div class="block package-description">
                    <h3 class="is-size-5"><||= entry\info\description ||></h3>
                </div>
                <|| filteredTags: getCleanTags entry\info\tags ||>
                <|| unless empty? filteredTags [ ||>
                    <div class="block package-tags">
                        <|| loop filteredTags 'tag [||>
                            <span class="tag is-info is-light is-medium package-tag"><||= tag ||></span>
                        <|| ] ||>
                    </div>
                <|| ] ||>
                <div class="columns">
                    <div class="column is-9 left-column">
                        <div class="left-wrapper">
                            <div class="tabs left-tabs">
                                <ul>
                                    <li id="overview-tab" class="is-active"><a onclick="showOverview()">Overview</a></li>
                                    <li id="version-tab"><a onclick="showVersionHistory()">Version History</a></li>
                                    <li id="dependencies-tab"><a onclick="showDependencies()">Dependencies</a></li>
                                    <li class="maximize-button">
                                        <a onclick="toggleDocSize()">
                                            <div class="icon">
                                                <i class="fas fa-angle-double-right"></i>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="box content left-container">
                                <div class="overview">
                                    <||= getProperMarkdown entry\info\readme ||>
                                </div>
                                <div class="version-history is-hidden">
                                    <ul>
                                        <|| loop entry\version 'ver [||>
                                            <|| (currentVersion\version = ver\version)? [ ||>
                                            <li><b><||= ver\version ||></b><span class="has-text-grey">&nbsp;&#8212;&nbsp;<||= ver\date\day ||>&nbsp;<||= ver\date\Month ||>&nbsp;<||= ver\date\year ||></span></li>
                                            <|| ][ ||>
                                                <li><a class="version-link" href="<||= getLink entry\name ver\version ||>"><b><||= ver\version ||></b></a><span class="has-text-grey">&nbsp;&#8212;&nbsp;<||= ver\date\day ||>&nbsp;<||= ver\date\Month ||>&nbsp;<||= ver\date\year ||></span></li>
                                            <|| ] ||>
                                        <|| ] ||>
                                    </ul>
                                </div>
                                <div class="dependencies is-hidden">
                                    <|| (empty? currentVersion\info\depends)? [ ||>
                                        No dependencies
                                    <|| ][ ||>
                                        <ul>
                                        <|| loop currentVersion\info\depends 'dep [ ||>
                                            <li><a href="<||= getLink entry\name ø ||>"><||= dep ||></a></li>
                                        <|| ] ||>
                                        </ul>
                                    <|| ] ||>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="column is-3 info-column">
                        <div class="box info-wrapper">
                            <div class="block stats-wrapper">
                                <div class="download-info">
                                    <span class="icon download-icon">
                                        <i class="fas fa-download"></i>
                                    </span>&nbsp;
                                    <span id= "<||= entry\name ||>-downloads" class="download-count">-</span>
                                </div>&nbsp;&nbsp;
                                <div class="star-info">
                                    <span class="icon star-icon">
                                        <i class="fa fa-star"></i>
                                    </span>&nbsp;
                                    <span class="star-count" data-package="<||= replace entry\info\url "https://github.com/" "" ||>"></span>
                                </div>
                            </div>
                            <div class="package-instructions">
                                <div class="installation-instructions block">
                                    <input id="installation-code" class="input copy-code" value="import<|| if not? currentVersionIsLatest [||>.version:<||= currentVersion\version ||> <||]||>'<||= entry\name ||>" data-pt-title="Copied to clipboard!" data-pt-trigger="click" readonly>
                                </div>
                                <article class="message is-success codecopied-message is-hidden">
                                    <div class="message-body">
                                        <b>Copied!</b> Paste into your script to import the package directly &mdash; and/or install the package from your terminal via with:<br><code>arturo -p install <||= entry\name ||> <|| if not? currentVersionIsLatest [||><||= currentVersion\version ||><||]||></code>
                                    </div>
                                </article>
                            </div>
                            <div class="block package-author package-subgroup">
                                <div class="subgroup-detail">
                                    <b>Author</b>
                                    <br>
                                    <a href="<||= entry\info\author\url ||>" class="repo-user-name"><||= entry\info\author\name ||></a>
                                </div>
                                <span class="icon subgroup-icon">
                                    <i class="fas fa-user"></i>
                                </span>
                            </div>
                            <div class="block package-version package-subgroup">
                                <div class="subgroup-detail">
                                    <b>Version</b>
                                    <br>
                                    <div class="package-version-wrapper">
                                        <||= currentVersion\version ||><|| if currentVersionIsLatest [||><span class="tag is-success latest-version-tag">Latest</span><|| ] ||>
                                    </div>
                                </div>
                                <span class="icon subgroup-icon">
                                    <i class="fas fa-certificate"></i>
                                </span>
                            </div>
                            <div class="block package-license package-subgroup">
                                <div class="subgroup-detail">
                                    <b>License</b>
                                    <br>
                                    <a href="<||= entry\info\license\url ||>" class="repo-license-name"><||= entry\info\license\name ||></a>
                                </div>
                                <span class="icon subgroup-icon">
                                    <i class="fas fa-balance-scale"></i>
                                </span>
                            </div>
                            <hr/>
                            <div class="block package-executable package-subgroup">
                                <div class="subgroup-detail">
                                    <b>Executable?</b>
                                    <br>
                                    <|| (currentVersion\info\executable)? [ ||>
                                        <span class="icon">
                                            <i class="fas fa-check"></i>
                                        </span> Yes
                                    <|| ][ ||>
                                        <span class="icon">
                                            <i class="fas fa-times"></i>
                                        </span> No
                                    <|| ] ||>
                                </div>
                                <span class="icon subgroup-icon">
                                    <i class="fas fa-terminal"></i>
                                </span>
                            </div>
                            <div class="block package-requires package-subgroup">
                                <div class="subgroup-detail">
                                    <b>Requires</b>
                                    <br>
                                    <|| (empty? currentVersion\info\requires)? [ ||>
                                        Any version
                                    <|| ][ ||>
                                        Arturo <||= to :string currentVersion\info\requires\0 ||>&nbsp;<||= to :string currentVersion\info\requires\1 ||>
                                    <|| ] ||>
                                </div>
                                <span class="icon subgroup-icon">
                                    <i class="fas fa-link"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    $(document).ready(function(){
        <|| (currentVersionIsLatest)?[ ||>
            $.get("https://pkgr.art/getdownloads.php?pkg=<||= entry\name ||>", function (data, status){
                $("#<||=entry\name ||>-downloads").html(data);
            });
        <|| ][ ||>
            $.get("https://pkgr.art/getdownloads.php?pkg=<||= entry\name ||>&ver=<||= currentVersion\version ||>", function (data, status){
                $("#<||=entry\name ||>-downloads").html(data);
            });
        <|| ] ||>
    });
</script>

<||= read "website/components/footer.html" ||>